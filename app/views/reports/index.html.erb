<h1>Reports#index</h1>
<p>Find me in app/views/reports/index.html.erb</p>

<div class="container">
  <h2>Project statistics</h2>
  <table class="table">
    <tr>
      <th>Project</th>
      <th>Comments count</th>
      <th>Posts count</th>
    </tr>

    <% @statistics.each do |stat| %>
      <tr>
        <td><%= stat.project %></td>
        <td><%= stat.comments_count %></td>
        <td><%= stat.post_count %></td>
      </tr>
    <% end %>
  </table>
</div>

<div class="container">
  <div class="card">
    <h5 class="card-header">Show task count by filter</h5>
    <div class="card-body">
      <%= form_tag(reports_path, :method => "get", id: "filter-task-form", :remote => true) do %>
        <div class="form-group">
          <%= select_tag(:status, options_for_select(Task.statuses.keys.to_a), include_blank: true, class: 'form-control') %>

          <%= hidden_field_tag :is_filtered_tasks, :is_filtered_tasks, class: 'form-control' %>
        </div>
        <%= submit_tag "Search", class: 'btn btn-primary' %>
      <% end %>
    </div>
    <div class="card-footer text-muted" id="task-report-results">

    </div>
  </div>
</div>
<br/>
<div class="container">
  <div class="card">
    <h5 class="card-header">Show task count for user</h5>
    <div class="card-body">
      <%= form_tag(reports_path, :method => "get", id: "filter-task-users-form", :remote => true) do %>
        <div class="form-group">
          <%= select_tag(:user_id, options_for_select(User.all.map {|u| [u.email, u.id]}, :id), include_blank: true, class: 'form-control') %>

          <%= hidden_field_tag :is_filtered_user_tasks, :is_filtered_user_tasks, class: 'form-control' %>
        </div>
        <%= submit_tag "Search", class: 'btn btn-primary' %>
      <% end %>
    </div>
    <div class="card-footer text-muted" id="user-report-results">

    </div>
  </div>
</div>
<br/>
<div class="container">
  <div class="card">
    <h5 class="card-header">Show task count for project</h5>
    <div class="card-body">
      <%= form_tag(reports_path, :method => "get", id: "filter-task-project-form", :remote => true) do %>
        <div class="form-group">
          <%= select_tag(:project_id, options_for_select(Project.all.map {|u| [u.name, u.id]}, :id), include_blank: true, class: 'form-control') %>

          <%= hidden_field_tag :is_filtered_project_tasks, :is_filtered_project_tasks, class: 'form-control' %>
        </div>
        <%= submit_tag "Search", class: 'btn btn-primary' %>
      <% end %>
    </div>
    <div class="card-footer text-muted" id="project-report-results">

    </div>
  </div>
</div>